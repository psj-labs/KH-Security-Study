# Add New Disk

## 개요

- 기존에 사용 중인 운영체제에서 저장 공간을 확장해야 할 경우 이미 존재하는 파티션을 수정하는 방식은 시스템 안정성을 해치거나 데이터 손상 위험을 동반할 수 있습니다.

 
- 따라서 복잡한 파티션 재구성 대신 **새로운 하드디스크를 추가하는 방식**이 가장 쉽고 안전한 선택이 됩니다.

- 이번 문서에서는 VMware Workstation 환경에서 기존에 사용 중인 Rocky Linux 가상머신에 새로운 하드디스크를 추가하는 방법을 설명합니다.

---

## 기존 가상머신 상태

- 다음은 현재 사용 중인 Rocky Linux 가상머신의 초기 화면입니다.

![01](/VM%20Setting/Add%20New%20Disk/imgs/01.png)

- 이 화면에서 `Edit virtual machine settings`를 클릭합니다.

---

## 하드디스크 추가 시작

- 가상머신 설정 화면에서 기존에 사용 중인 `Hard Disk (NVMe)` 가 이미 존재하는 것을 확인할 수 있습니다.
- 새로운 디스크를 추가하기 위해 하단의 `Add` 버튼을 클릭합니다.


![02](/VM%20Setting/Add%20New%20Disk/imgs/02.png)

`Hard Disk`를 선택하고 `Next`를 누릅니다.

![03](/VM%20Setting/Add%20New%20Disk/imgs/03.png)

---

## 디스크 인터페이스 선택


- 하드디스크 인터페이스를 선택하는 단계입니다.

![04](/VM%20Setting/Add%20New%20Disk/imgs/04.png)


- 필자는 `SATA 방식`을 선택하였으며 각 항목의 특징은 다음과 같습니다.

- `IDE`
  - 매우 오래된 구형 방식
  - 최신 시스템에서는 거의 사용되지 않음
  - 성능이 낮음

- `SCSI`
  - 서버 환경에서 주로 사용
  - IDE보다 빠르고 안정적
  - 서버용 리눅스 및 윈도우 서버에서 많이 사용됨

- `SATA`
  - 가장 대중적인 하드디스크 / SSD 연결 방식
  - 가정용 PC 및 노트북 환경의 표준

- `NVMe`
  - 최신 고속 SSD를 위한 인터페이스
  - DB, 컴파일 등 고성능 작업에 적합

---

## 디스크 생성 방식 선택

- 새로운 가상 디스크를 생성하기 위해 `Create a new virtual disk`를 선택합니다.

![05](/VM%20Setting/Add%20New%20Disk/imgs/05.png)

- 이번 실습은 파티션 구성을 위한 것이므로 기존 디스크를 사용하는 방식은 선택하지 않습니다.


---

## 디스크 용량 및 저장 방식 설정

- 디스크 용량은 `20GB`로 설정합니다.

![06](/VM%20Setting/Add%20New%20Disk/imgs/06.png)

- `Allocate all disk space now`
  - 설정한 용량만큼 즉시 디스크 공간을 할당
  - 20GB 크기의 빈 파일을 바로 생성

- 필자는 실제 사용한 만큼만 디스크가 증가하는 **가변 할당 방식**을 사용하기 위해 해당 옵션을 선택하지 않습니다.

- 디스크 파일 저장 방식은 다음과 같습니다.

- `Store virtual disk as a single file`
  - 하나의 큰 파일로 저장
  - 성능은 약간 좋지만 이동 및 관리가 불편함

- `Split virtual disk into multiple files`
  - 여러 개의 파일로 분할 저장
  - 이동 및 백업에 유리함

- 필자는 `Split virtual disk into multiple files` 방식을 선택합니다.


---

## 디스크 파일 이름 및 저장 위치

- 가상 디스크 파일의 이름과 저장 위치를 설정하는 단계입니다.

- 특별한 이유가 없다면 VMware에서 제공하는 **기본 가상머신 관리 구조를 그대로 유지하는 것이 가장 안정적**입니다.

![07](/VM%20Setting/Add%20New%20Disk/imgs/07.png)


- 설정을 확인한 뒤 `Finish` 버튼을 클릭합니다.

---

## 하드디스크 추가 완료

- 다음과 같이 `New Hard Disk (SATA` 가 가상머신에 정상적으로 추가된 것을 확인할 수 있습니다.

![08](/VM%20Setting/Add%20New%20Disk/imgs/08.png)


`OK` 버튼을 눌러 설정을 마무리합니다.

![09](/VM%20Setting/Add%20New%20Disk/imgs/09.png)


---

## 결과 확인

- 가상머신을 실행하면 기존 디스크 + 새로 추가한 디스크로 총 **2개의 하드디스크가 인식**된 상태가 됩니다.

- 이후 새로 추가한 `Hard Disk (SATA` 를 대상으로 다음 실습을 진행할 예정입니다.
  - 파티션 생성
  - 파일시스템 생성
  - 마운트 설정
